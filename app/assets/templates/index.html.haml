%nav
  .logo
    %span.name TrelloReport
    %span . By NoFearCode
  .options{'ng-if' => 'token === ""'}
    %span Make sure the popup is enabled in the browser at the top of the page
    %button.large{'ng-click' => "loginTrello()"} Login in Trello
  .options{'ng-if' => 'token !== ""'}
    %button.large{'ng-click' => 'getOrganizations()'} Get Organizations
    %button.large{'ng-click' => 'getAllBoards()'} No organizations? Get Boards where i'm a member
.main
  %article
    %h3{'ng-if' => 'organizations.length > 0'}
      Organizations
    %ul
      %li{'ng-repeat' => 'organization in organizations', 'ng-click' => 'getBoards(organization)', 'ng-class' => 'organization.id === organizationSelected.id ? "active" : "a"'}
        %span
          {{organization.name}}
  %article
    %h3{'ng-if' => 'boards.length > 0'}
      Boards
    %ul
      %li{'ng-repeat' => 'board in boards', 'ng-click' => 'getCards(board)', 'ng-class' => 'board.id === boardSelected.id ? "active" : "a"'}
        %span
          {{board.name}}
  %article
    %h3{'ng-if' => 'members.length > 0'}
      Members
    %ul
      %li{'ng-repeat' => 'member in members', 'ng-click' => 'setMember(member)', 'ng-class' => 'member.id === memberSelected.id ? "active" : "a"'}
        %span
          {{member.fullName}} - {{member.username}}

  %article
    %h3{'ng-if' => 'lists.length > 0'}
      Lists
    %ul
      %li{'ng-repeat' => 'list in lists', 'ng-click' => 'setList(list)', 'ng-class' => 'list.id === listSelected.id ? "active" : "a"'}
        %span
          {{list.name}}

  %article
    %h3{'ng-if' => 'cards.length === 0 && boardSelected !== ""'}
      There aren't cards in this board (or filter).
    %h3{'ng-if' => 'cards.length > 0'}
      Cards
    %ul
      %li{'ng-repeat' => 'card in cards| orderBy:"+dateLastActivity"'}
        {{card.name}}